<!DOCTYPE html>
<html lang="en" th:replace="~{base :: layout(content=~{::#content}, title=~{::#title}, script=~{::#script}, banner=~{::#banner})}">
<head>
    <title id="title" th:text="${isEdit ? 'Edit Contact - Data Manager' : 'Add Contact - Data Manager'}">Contact Form</title>
    <th:block id="script">
        <script>
            console.log("In Contact Form Page");
        </script>
    </th:block>
</head>
<body>
    <!-- Banner Fragment -->
    <th:block id="banner" th:replace="~{fragments/banner :: simple(${isEdit ? 'Edit Contact' : 'Add New Contact'}, 'Fill in the contact details below')}"></th:block>

    <div id="content" class="py-12">
        <div th:fragment="content" class="max-w-4xl mx-auto px-4">
            <!-- Back Button -->
            <div class="mb-6">
                <a th:href="@{/user/contacts}" class="text-blue-600 hover:text-blue-700 font-medium">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Contacts
                </a>
            </div>

            <!-- Form Card -->
            <div class="bg-white p-8 rounded-lg shadow-lg border border-gray-200">
                <div class="flex items-center mb-6">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                        <i th:class="${isEdit ? 'fas fa-user-edit' : 'fas fa-user-plus'}" class="text-blue-600 text-xl"></i>
                    </div>
                    <h2 class="text-2xl font-semibold text-gray-800" th:text="${isEdit ? 'Edit Contact Information' : 'Add New Contact'}">Contact Form</h2>
                </div>

                <form th:action="${isEdit ? '/user/contacts/update/' + contact.id : '/user/contacts/add'}" 
                      method="post" 
                      th:object="${contact}" 
                      class="space-y-6">
                    
                    <!-- Name (Required) -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Full Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" 
                               th:field="*{name}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="John Doe" 
                               required>
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                        <input type="email" 
                               th:field="*{email}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="john.doe@example.com">
                    </div>

                    <!-- Phone Number -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <input type="tel" 
                               th:field="*{phoneNumber}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="+1 (555) 123-4567">
                    </div>

                    <!-- Address -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                        <textarea th:field="*{address}" 
                                  rows="3" 
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                                  placeholder="123 Main St, City, State, ZIP"></textarea>
                    </div>

                    <!-- Description -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description / Notes</label>
                        <textarea th:field="*{description}" 
                                  rows="4" 
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                                  placeholder="Additional notes about this contact..."></textarea>
                    </div>

                    <!-- Website Link -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Website</label>
                        <input type="url" 
                               th:field="*{websiteLink}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="https://example.com">
                    </div>

                    <!-- LinkedIn Link -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn Profile</label>
                        <input type="url" 
                               th:field="*{linkedInLink}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="https://linkedin.com/in/username">
                    </div>

                    <!-- Picture URL -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Profile Picture URL</label>
                        <input type="url" 
                               th:field="*{picture}" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                               placeholder="https://example.com/photo.jpg">
                    </div>

                    <!-- Favorite Toggle -->
                    <div class="flex items-center">
                        <input type="checkbox" 
                               th:field="*{favorite}" 
                               id="favorite" 
                               class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <label for="favorite" class="ml-2 text-sm font-medium text-gray-700">
                            <i class="fas fa-star text-yellow-500 mr-1"></i>Mark as Favorite
                        </label>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-200">
                        <a th:href="@{/user/contacts}" 
                           class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                            Cancel
                        </a>
                        <button type="submit" 
                                class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            <i class="fas fa-save mr-2"></i>
                            <span th:text="${isEdit ? 'Update Contact' : 'Save Contact'}">Save</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
